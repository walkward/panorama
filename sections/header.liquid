<div id="header-wrapper" data-section-id="{{ section.id }}" data-section-type="header-section" style="opacity:0;">
<div class="site-header--offer hidden-xs">
  <div class="wrapper">
    <a href="/pages/shipping"><span class="site-header-shipping">FREE SHIPPING Over $100*</span></a>
    {% for link in linklists["topbar"].links %}
      {%- assign child_list_handle = link.title | handleize -%}
      <a href="{{ link.url }}" class="site-header-toplink">{{ link.title }}</a>
    {% endfor %}
  </div>
</div>
<header class="site-header site-header--{{ section.settings.menu_style }} {% if section.settings.menu_text_color %}{{ section.settings.menu_text_color }}{% endif %}" role="banner">
      <div class="wrapper">
        {% if template.name == 'index' %}
          <h1 class="site-header__logo {% if section.settings.logo %} display-table use-image" style="max-width:{{ image_size | slice: -1 }}px;"{% endif %} itemscope itemtype="http://schema.org/Organization">
        {% else %}
          <div class="h1 site-header__logo {% if section.settings.logo %} display-table use-image" style="max-width:{{ image_size | slice: -1 }}px;"{% endif %} itemscope itemtype="http://schema.org/Organization">
        {% endif %}
            <a href="/" itemprop="url" class="site-header__logo-link display-table-cell{% if section.settings.logo_use_inverted %} logo--has-inverted{% endif %}">
              {% include 'sawder-studio-logo.svg' %}
            </a>
        {% if template.name == 'index' %}
          </h1>
        {% else %}
          </div>
        {% endif %}

        <nav class="nav-bar" role="navigation">
          <ul class="site-nav" id="AccessibleNav">
            {% for link in linklists[section.settings.main_linklist].links %}
              {%- assign child_list_handle = link.title | handleize -%}
              {% if linklists[child_list_handle].links != blank %}
                <li class="site-nav--has-dropdown parent-menu-item{% if link.active %} site-nav--active{% endif %}" aria-haspopup="true">
                  <a href="{{ link.url }}" class="site-nav__link">
                    {{ link.title }}
                    <svg style="width:16px;height:16px;vertical-align: middle;" viewBox="0 0 24 24">
                        <path fill="#222222" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                    </svg>
                  </a>
                  <ul class="site-nav__dropdown">
                    <div>
                      {% for childlink in linklists[child_list_handle].links %}
                      {% assign first_loop = "" %}
                      {% if forloop.first %}{% assign first_loop = "this-loop" %}{% endif %}
                      {% assign grand_child_list_handle = childlink.title | handle %}
                      {% if linklists[grand_child_list_handle] and linklists[grand_child_list_handle].links.size > 0 %}
                      <li class="child-link with-children{% if childlink.active %} site-child--active{% elsif first_loop contains "this-loop" %}{% unless collection.url contains "collection" %} site-child--active{% endunless %}{% else %}{% endif %}">
                        <a href="{{ childlink.url }}" class="site-nav__link {% if childlink.active %} site-nav--active {% endif %}">{{ childlink.title | escape }}</a>
                      </li>
                      <li class="grand-child-wrapper{% if childlink.active %} site-child--active{% elsif first_loop contains "this-loop" %}{% unless collection.url contains "collection" %} site-child--active{% endunless %}{% else %}{% endif %}">
                        <ul>
                          {% for grand_child_link in linklists[grand_child_list_handle].links %}
                          <li class="grand-child-link">
                            <a href="{{ grand_child_link.url }}" class="site-nav__link {% if grand_child_link.active %} site-nav--active {% endif %}">{{ grand_child_link.title | escape }}</a>
                          </li>
                          {% endfor %}
                        </ul>
                      </li>
                      {% else %}
                      <li class="child-link {% if childlink.active %} site-child--active {% endif %}">
                        <a href="{{ childlink.url }}" class="site-nav__link {% if childlink.active %} site-nav--active {% endif %}">{{ childlink.title | escape }}</a>
                      </li>
                      {% endif %}
                      {% endfor %}
                    </div>
                  </ul>
                </li>
              {% else %}
                <li>
                  <a href="{{ link.url }}" class="site-nav__link parent-menu-item{% if link.active %} site-nav--active {% endif %}">{{ link.title }}</a>
                </li>
              {% endif %}
            {% endfor %}

            {% unless section.settings.menu_product == blank %}
              <li class="btn__buy"><a href="{{ all_products[section.settings.menu_product].url }}" class="btn btn--outline {% if section.settings.menu_style == 'classic' %} btn--small btn--dark {% else %} btn--regular btn--light {% endif %}">{{ 'layout.navigation.buy_button' | t }} {{ all_products[section.settings.menu_product].price | money_without_trailing_zeros }}</a></li>
            {% endunless %}

          </ul>

          <ul class="site-nav">
            <li class="search-bar-header">
              <form action="/search" method="get" class="search-bar text-center" role="search">
                <input type="search" name="q" value="{{ search.terms | escape }}" placeholder="Search..." >
                <button type="submit" class="btn search-btn">
                  <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                      <path fill="#222" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                  </svg>
                </button>
              </form>
            </li>
          </ul>

          <ul class="site-nav">
            <li class="btn__cart">
              <a href="/cart">
                <span class="icon" aria-hidden="true">{% unless cart.item_count > 99 %}{{ cart.item_count }}{% endunless %}{% include 'asset_svg' with 'cart' %}</span>
                <span class="text">{{ 'layout.navigation.shopping_cart' | t }}</span>
              </a>
            </li>
          </ul>

        </nav>

        <button id="menu-opener" class="lines-button" href="#">
          <span class="fallback-text">{{ 'layout.navigation.open_menu' | t }}</span>
          <span class="lines" aria-hidden="true"></span>
        </button>

      </div>
    </header>
</div>

{% schema %}
  {
  	"name": "Header",
  	"settings": [
  		{
  			"type": "header",
  			"content": "Logo"
  		},
  		{
  			"type": "image_picker",
  			"id": "logo",
  			"label": "Logo image",
  			"info": "200px wide .png recommended"
  		},
  		{
  			"type": "checkbox",
  			"id": "logo_use_inverted",
  			"label": "Use an inverted logo"
  		},
  		{
  			"type": "image_picker",
  			"id": "logo-inverted",
  			"label": "Inverted logo",
  			"info": "Use this with dark slideshow images for better visibility"
  		},
  		{
  			"type": "text",
  			"id": "logo_max_width",
  			"label": "Custom logo width (in pixels)",
  			"default": "250",
  			"info": "Do not add the 'px' unit"
  		},
  		{
  			"type": "header",
  			"content": "Navigation"
  		},
  		{
  			"type": "link_list",
  			"id": "main_linklist",
  			"label": "Menu",
  			"default": "main-menu"
  		},
  		{
  			"type": "select",
  			"id": "menu_style",
  			"label": "Menu style",
  			"options": [
  				{
  					"value": "classic",
  					"label": "Classic"
  				},
  				{
  					"value": "drawer",
  					"label": "Drawer"
  				}
  			]
  		},
  		{
  			"type": "select",
  			"id": "menu_text_color",
  			"label": "Classic menu color",
  			"options": [
  				{
  					"value": "is-dark",
  					"label": "Dark"
  				},
  				{
  					"value": "is-light",
  					"label": "Light"
  				}
  			],
  			"info": "Use this when the menu is over dark sections for better visibility"
  		},
  		{
  			"type": "product",
  			"id": "menu_product",
  			"label": "Product for \"buy now\" button"
  		}
  	]
  }
{% endschema %}
